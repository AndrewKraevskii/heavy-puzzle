{"version":3,"sources":["store/puzzleSlice.ts","store/store.ts","logic/socket.ts","components/PuzzlePiece.tsx","components/PuzzleBlock.tsx","components/DragHandler.tsx","components/Canvas.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["initialState","pieces","undefined","puzzleSlice","createSlice","name","reducers","set","state","action","payload","selectPuzzle","puzzle","puzzleSliceReducer","reducer","store","configureStore","useAppSelector","useSelector","socket","io","process","on","data","blocks","dispatch","actions","lastRequest","setInterval","emit","type","PuzzlePiece","url","piece","selected","motion","image","animate","x","y","transition","duration","imageRendering","strokeWidth","stroke","href","imageUrl","width","height","PuzzleBlock","block","groupRef","useRef","scale","useContext","CanvasCoordinatesContext","useGesture","onDrag","e","blockId","id","offset","onDragEnd","target","drag","from","centerX","centerY","transform","dx","dy","bounds","top","bottom","left","right","g","ref","style","touchAction","sort","p1","p2","map","DragHandler","color","initial","opacity","draggingUsers","length","Fragment","line","x1","y1","x2","y2","z","circle","r","cx","cy","fill","weight","clamp","min","max","canvasUnscaledSize","limitTransition","container","rect","getBoundingClientRect","trueScale","Math","size","offsetX","offsetY","React","createContext","Canvas","canvasHandlerElement","useState","setTransition","limited","delta","current","onPinch","abs","useEffect","Provider","value","overflow","h","svg","viewBox","toFixed","App","showTutorial","setShowTutorial","in","unmountOnExit","pos","w","bg","m","onClick","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3e9aef3e.chunk.js","sourcesContent":["import {createSlice, PayloadAction} from '@reduxjs/toolkit';\nimport {PuzzleBlockObject} from \"../logic/objects\";\nimport {RootState} from \"./store\";\n\n\ninterface PuzzleState {\n    pieces?: PuzzleBlockObject[];\n}\n\n\nconst initialState: PuzzleState = {\n    pieces: undefined,\n};\n\nexport const puzzleSlice = createSlice({\n    name: 'puzzle',\n    initialState,\n    reducers: {\n        set: (state, action: PayloadAction<PuzzleBlockObject[]>) => {\n            state.pieces = action.payload;\n        },\n    },\n});\n\nexport const selectPuzzle = (state: RootState) => state.puzzle.pieces;\n\nexport const puzzleSliceReducer = puzzleSlice.reducer;","import {configureStore} from '@reduxjs/toolkit';\nimport {TypedUseSelectorHook, useDispatch, useSelector} from \"react-redux\";\nimport {puzzleSliceReducer} from \"./puzzleSlice\";\n\n\nexport const store = configureStore({\n    reducer: {\n        puzzle: puzzleSliceReducer,\n    },\n});\n\n\nexport type RootState = ReturnType<typeof store.getState>;\nexport type AppDispatch = typeof store.dispatch;\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\n","import {io} from \"socket.io-client\";\nimport {PuzzleBlockObject} from \"./objects\";\nimport {store} from \"../store/store\";\nimport {puzzleSlice} from \"../store/puzzleSlice\";\n\n\nconst socket = io(process.env.REACT_APP_API_URL as string);\n\n\nsocket.on(\"connect\", () => {\n\n});\n\n\nsocket.on(\"state\", data => {\n    const blocks = data.blocks as PuzzleBlockObject[];\n    store.dispatch(puzzleSlice.actions.set(blocks));\n});\n\n\nexport function getStatic(url: string) {\n    return process.env.REACT_APP_API_URL as string + url;\n}\n\n\ninterface LastRequest {\n    type: string;\n    data: object;\n}\n\n\nlet lastRequest: LastRequest | undefined = undefined;\n\n\nexport function dragBlock(blockId: number, x: number, y: number) {\n    lastRequest = {\n        type: \"drag\",\n        data: {\n            blockId: blockId,\n            x: x,\n            y: y,\n        },\n    };\n}\n\n\nexport function releaseBlock() {\n    lastRequest = {\n        type: \"release\",\n        data: {},\n    };\n}\n\n\nsetInterval(() => {\n    if (lastRequest) {\n        socket.emit(lastRequest.type, lastRequest.data);\n        lastRequest = undefined;\n    }\n}, 50);\n","import {PuzzlePieceObject} from \"../logic/objects\";\nimport {getStatic} from \"../logic/socket\";\nimport {motion} from \"framer-motion\";\n\n\ninterface PuzzlePieceProps {\n    piece: PuzzlePieceObject;\n    selected: boolean;\n}\n\n\nexport default function PuzzlePiece({piece, selected}: PuzzlePieceProps) {\n    return (\n        <motion.image\n            animate={{\n                x: piece.x,\n                y: piece.y,\n            }}\n            transition={{duration: 0.5}}\n            imageRendering=\"optimizeSpeed\"\n            strokeWidth={selected ? 3 : 0}\n            stroke={\"black\"}\n            href={getStatic(piece.imageUrl)}\n            width={piece.width * 1.03}\n            height={piece.height * 1.03}\n        />\n    );\n}\n","import {useGesture} from \"@use-gesture/react\";\nimport React, {useContext, useRef} from \"react\";\nimport {PuzzleBlockObject} from \"../logic/objects\";\nimport PuzzlePiece from \"./PuzzlePiece\";\nimport {motion} from \"framer-motion\";\nimport {dragBlock, releaseBlock} from \"../logic/socket\";\nimport {CanvasCoordinatesContext} from \"./Canvas\";\n\n\ninterface PuzzleBlockProps {\n    block: PuzzleBlockObject;\n}\n\n\nexport default function PuzzleBlock({block}: PuzzleBlockProps) {\n    const groupRef = useRef<SVGGElement>(null);\n    const scale = useContext(CanvasCoordinatesContext);\n\n    useGesture({\n        onDrag: e => dragBlock(block.id, e.offset[0], e.offset[1]),\n        onDragEnd: () => releaseBlock(),\n    }, {\n        target: groupRef,\n        drag: {\n            from: () => [block.centerX, block.centerY],\n            transform: ([dx, dy]) => [dx / scale, dy / scale],\n            bounds: {top: 50, bottom: 950, left: 50, right: 950},\n        },\n    });\n\n    return (\n        <motion.g ref={groupRef} style={{touchAction: \"none\"}}>\n            {[...block.pieces].sort(\n                (p1, p2) => (p1.id - p2.id)\n            ).map(piece =>\n                <PuzzlePiece\n                    selected={true}\n                    piece={piece}\n                    key={piece.id}\n                />)}\n        </motion.g>\n    );\n}\n","import {PuzzleBlockObject} from \"../logic/objects\";\nimport {motion} from \"framer-motion\";\nimport React from \"react\";\n\n\ninterface DragHandlerProps {\n    block: PuzzleBlockObject;\n}\n\n\nexport default function DragHandler({block}: DragHandlerProps) {\n    const color = `hsl(${(block.id * 1337) % 360} 100% 50%)`\n\n    return (\n        <motion.g\n            initial={{opacity: 0}}\n            animate={{opacity: block.draggingUsers.length > 0 ? 1 : 0}}\n            transition={{duration: 0.15}}\n            key={block.id}\n        >\n            {\n                block.draggingUsers.map(drag => <React.Fragment key={drag.id}>\n                    <motion.line\n                        x1={block.centerX} y1={block.centerY}\n                        initial={{x2: drag.x, y2: drag.y}}\n                        animate={{x2: drag.x, y2: drag.y}}\n                        transition={{duration: 0.5}}\n                        stroke={color}\n                        strokeWidth={5}\n                        key={`l${drag.id}`}\n                        z={10}\n                    />\n                    <motion.circle\n                        initial={{r: \"0.1cm\", cx: drag.x, cy: drag.y}}\n                        animate={{r: \"0.3cm\", cx: drag.x, cy: drag.y}}\n                        transition={{duration: 0.5}}\n                        fill={color}\n                        key={`c${drag.id}`}\n                    />\n                </React.Fragment>)\n            }\n            <motion.circle\n                initial={{r: \"0.1cm\"}}\n                animate={{r: block.draggingUsers.length > 0 ? \"0.4cm\" : \"0.1cm\"}}\n                transition={{duration: 0.5}}\n\n                cx={block.centerX}\n                cy={block.centerY}\n                stroke={color} strokeWidth={6}\n                fill=\"white\"\n                key={block.id + 1000}\n            />\n            <motion.circle\n                initial={{r: \"0.1cm\"}}\n                animate={{r: `${0.33 * block.draggingUsers.length / block.weight}cm`}}\n                transition={{duration: 0.5}}\n\n                cx={block.centerX}\n                cy={block.centerY}\n                fill={color}\n                key={-block.id}\n            />\n        </motion.g>\n    );\n}\n","import React, {useEffect, useRef, useState} from \"react\";\nimport {Center} from \"@chakra-ui/react\";\nimport {useGesture} from \"@use-gesture/react\";\nimport {useAppSelector} from \"../store/store\";\nimport {selectPuzzle} from \"../store/puzzleSlice\";\nimport PuzzleBlock from \"./PuzzleBlock\";\nimport {motion} from \"framer-motion\";\nimport DragHandler from \"./DragHandler\";\n\n\nconst clamp = (x: any, min: any, max: any) => {\n    if (x < min) {\n        return min;\n    } else if (x > max) {\n        return max;\n    } else {\n        return x;\n    }\n};\n\nconst canvasUnscaledSize = 1000;\n\n\ninterface CanvasTransition {\n    offsetX: number;\n    offsetY: number;\n    scale: number;\n    trueScale?: number;\n    width: number;\n    height: number;\n}\n\n\nconst limitTransition = (transition: CanvasTransition, container: HTMLDivElement): CanvasTransition => {\n    const rect = container.getBoundingClientRect();\n\n    const scale = clamp(transition.scale, 1, 5);\n    const trueScale = Math.max(rect.width, rect.height) / canvasUnscaledSize * scale;\n    const size = canvasUnscaledSize / scale;\n\n    let width, height;\n    if (rect.width > rect.height) {\n        width = size;\n        height = width / rect.width * rect.height;\n    } else {\n        height = size;\n        width = height / rect.height * rect.width;\n    }\n\n    const trueX = clamp(transition.offsetX, 0, canvasUnscaledSize - width);\n    const trueY = clamp(transition.offsetY, 0, canvasUnscaledSize - height);\n\n    return {\n        offsetX: trueX,\n        offsetY: trueY,\n        scale: scale,\n        trueScale: trueScale,\n        width: width,\n        height: height,\n    };\n};\n\n\nexport const CanvasCoordinatesContext = React.createContext(1);\n\n\nexport default function Canvas() {\n    const puzzle = useAppSelector(selectPuzzle);\n\n    const container = useRef<HTMLDivElement>(null);\n    const canvasHandlerElement = useRef<SVGRectElement>(null);\n\n    const [transition, setTransition] = useState<CanvasTransition>({\n        offsetX: 0,\n        offsetY: 0,\n        scale: 1,\n        width: canvasUnscaledSize,\n        height: canvasUnscaledSize,\n        trueScale: undefined,\n    });\n\n    useGesture({\n        onDrag: (e) => {\n            const limited = limitTransition(\n                {\n                    ...transition,\n                    offsetX: transition.offsetX - e.delta[0] / (transition.trueScale || 1),\n                    offsetY: transition.offsetY - e.delta[1] / (transition.trueScale || 1),\n                },\n                container.current!!,\n            );\n            setTransition(limited);\n        },\n        // onDragStart: () => dispatch(userSlice.actions.setMovesPuzzle(\"canvas\")),\n        // onDragEnd: () => dispatch(userSlice.actions.setMovesPuzzle(undefined)),\n        onPinch: (e) => {\n            setTransition(limitTransition(\n                {\n                    ...transition,\n                    scale: Math.abs(e.offset[0]),\n                },\n                container.current!!,\n            ));\n            e.offset[0] = clamp(e.offset[0], 1, 5);\n        },\n    }, {\n        target: canvasHandlerElement,\n    });\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    useEffect(() => setTransition(limitTransition(transition, container.current!!)), []);\n\n    return (\n        <CanvasCoordinatesContext.Provider value={transition.trueScale || 1}>\n            <Center overflow=\"hidden\" h=\"100vh\" ref={container}>\n                <motion.svg\n                    animate={{\n                        viewBox: `\n                        ${transition.offsetX.toFixed(2)} \n                        ${transition.offsetY.toFixed(2)} \n                        ${transition.width} ${transition.height}\n                        `,\n                    }}\n                    style={{touchAction: \"none\"}}\n                >\n                    <rect\n                        ref={canvasHandlerElement}\n                        width={1000} height={1000} fill=\"white\"\n                        style={{touchAction: \"none\"}}\n                    />\n                    {[...(puzzle || [])].sort(\n                        (p1, p2) => (p2.weight - p1.weight)\n                    ).map(block => <PuzzleBlock\n                        block={block}\n                        key={block.id}\n                    />)}\n                    {puzzle?.map(block => (\n                        <DragHandler block={block} key={block.id}/>\n                    ))}\n                </motion.svg>\n            </Center>\n        </CanvasCoordinatesContext.Provider>\n    );\n}\n","import React, {useState} from 'react';\nimport {Box, Button, Center, ChakraProvider, Fade, ListItem, UnorderedList} from \"@chakra-ui/react\";\nimport Canvas from \"./components/Canvas\";\nimport {Provider} from \"react-redux\";\nimport {store} from \"./store/store\";\n\n\nfunction App() {\n    const [showTutorial, setShowTutorial] = useState(true);\n\n    return (\n        <Provider store={store}>\n            <ChakraProvider>\n                <Canvas/>\n                <Fade in={showTutorial} unmountOnExit>\n                    <Center\n                        pos=\"fixed\" top=\"0\" left=\"0\"\n                        w=\"100vw\" h=\"100vh\" bg=\"#ddd\"\n                    >\n                        <Box m={2}>\n                            <UnorderedList>\n                                <ListItem>Перетягивайте детали пазла друг к другу</ListItem>\n                                <ListItem>Когда правильные кусочки рядом - они объединяться</ListItem>\n                                <ListItem>Чем больше кусочек, тем сложнее его тащить</ListItem>\n                                <ListItem>Объединяйтесь с друзьями, чтобы собрать весь пазл!</ListItem>\n                            </UnorderedList>\n                            <Button onClick={() => setShowTutorial(false)}>\n                                Вперед!\n                            </Button>\n                        </Box>\n                    </Center>\n                </Fade>\n            </ChakraProvider>\n        </Provider>\n    );\n}\n\n\nexport default App;\n","import {ReportHandler} from 'web-vitals';\n\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n    if (onPerfEntry && onPerfEntry instanceof Function) {\n        import('web-vitals').then(({getCLS, getFID, getFCP, getLCP, getTTFB}) => {\n            getCLS(onPerfEntry);\n            getFID(onPerfEntry);\n            getFCP(onPerfEntry);\n            getLCP(onPerfEntry);\n            getTTFB(onPerfEntry);\n        });\n    }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\n\nReactDOM.render(\n    <React.StrictMode>\n        <App/>\n    </React.StrictMode>,\n    document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}